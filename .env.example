# ==========================================
# YOLO FastAPI 추론 서버 환경 변수 설정
# ==========================================
# 이 파일을 .env로 복사하여 사용하세요:
# cp .env.example .env

# ------------------------------------------
# 0. Docker 이미지 설정 (ECR)
# ------------------------------------------
# ECR 레지스트리 주소
ECR_REGISTRY=123456789012.dkr.ecr.ap-northeast-2.amazonaws.com

# 이미지 태그 (latest, v1.0.0 등)
IMAGE_TAG=latest

# ------------------------------------------
# 1. 모델 설정
# ------------------------------------------
# YOLO 모델 파일 경로
MODEL_PATH=best.pt

# 실행 디바이스 (cpu, cuda:0, cuda:1 등)
# 자동 선택: 비워두면 CUDA 사용 가능 시 cuda:0, 아니면 cpu
DEVICE=cpu

# 이미지 크기 (추론 시 리사이즈)
IMGSZ=640

# Confidence threshold (0.0 ~ 1.0)
CONF=0.25

# IoU threshold for NMS (0.0 ~ 1.0)
IOU=0.45

# ------------------------------------------
# 2. 동시성 제어
# ------------------------------------------
# 동시에 처리할 수 있는 최대 추론 개수
# GPU 메모리 오버플로우 방지를 위해 조정
MAX_INFLIGHT=2

# ------------------------------------------
# 3. 인증 설정 (옵션)
# ------------------------------------------
# 백엔드 → 이 서버 호출 시 Bearer 토큰 검증
# 비워두면 인증 비활성화
INBOUND_TOKEN=

# 이 서버 → 백엔드 콜백 시 HMAC-SHA256 서명
# 비워두면 서명 비활성화
SHARED_SECRET=

# ------------------------------------------
# 4. AWS S3 설정 (S3 사용 시)
# ------------------------------------------
# AWS 리전
AWS_DEFAULT_REGION=ap-northeast-2

# AWS 액세스 키 (IAM 또는 환경 변수)
AWS_ACCESS_KEY_ID=

# AWS 시크릿 키
AWS_SECRET_ACCESS_KEY=

# ------------------------------------------
# 5. HTTP 설정
# ------------------------------------------
# 콜백 POST 요청 타임아웃 (초)
POST_TIMEOUT=60

# 큐 타임아웃 (초) - 사용하지 않으면 0
QUEUE_TIMEOUT=0

# ------------------------------------------
# 6. 로깅 설정 (옵션)
# ------------------------------------------
# 로그 레벨 (DEBUG, INFO, WARNING, ERROR)
# LOG_LEVEL=INFO

# 로그 파일 경로
# LOG_FILE=/app/logs/app.log
